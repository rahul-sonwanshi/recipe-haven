<div class="dashboard-container">
  <h2>Recipes List</h2>

  <input
    type="text"
    [(ngModel)]="searchQuery"
    placeholder="Search Recipes"
    (input)="searchRecipes()"
  />
  <button class="btn green-btn" (click)="openModal()">+</button>

  <ul>
    <li
      class="recipe-item"
      *ngFor="let recipe of recipes"
      (click)="openModal(recipe, true)"
    >
      <div class="recipe-content-wrapper">
        <img [src]="recipe.featuredImage | safeUrl" alt="" />
        <h2>{{ recipe.title }}</h2>
        <span>
          <b>Ingredients: </b>
          <span *ngFor="let ingredient of recipe.ingredients; let i = index"
            >{{ ingredient.name }}
          </span>
        </span>
      </div>

      <div class="recipe-action-items">
        <img
          class="action-btn"
          src="assets/images/edit.svg"
          (click)="openModal(recipe); $event.stopPropagation()"
        />
        <img
          class="action-btn"
          src="assets/images/delete.svg"
          (click)="deleteRecipe(recipe._id!); $event.stopPropagation()"
        />
      </div>
    </li>
  </ul>

  <recipe-modal
    *ngIf="showModal"
    [recipe]="selectedRecipe"
    [isViewOnlyRecipe]="isViewOnlyRecipe"
    (closeModal)="closeModal()"
    (saveRecipe)="saveRecipe($event)"
  ></recipe-modal>
</div>
