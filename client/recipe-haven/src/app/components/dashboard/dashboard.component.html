<div class="dashboard-container">
  <h2>Recipes List</h2>

  <input
    type="text"
    [(ngModel)]="searchQuery"
    placeholder="Search Recipes"
    (input)="searchRecipes()"
  />

  <ul>
    <li class="recipe-item" *ngFor="let recipe of recipes">
      <img src="assets/images/defaultRecipe.jpg" alt="" />
      <h3>{{ recipe.title }}</h3>
      <span *ngFor="let ingredient of recipe.ingredients">{{
        ingredient
      }}</span>
      <button (click)="openModal(recipe)">Edit</button>
      <button (click)="deleteRecipe(recipe._id!)">Delete</button>
    </li>
  </ul>

  <h2>Create New Recipe</h2>
  <input type="text" [(ngModel)]="newRecipe.title" placeholder="Title" />
  <button (click)="createRecipe()">Create</button>

  <div *ngIf="editingRecipe">
    <h2>Edit Recipe</h2>
    <input type="text" [(ngModel)]="editingRecipe.title" placeholder="Title" />
    <button (click)="updateRecipe()">Update</button>
    <button (click)="editingRecipe = null">Cancel</button>
  </div>

  <recipe-modal
    *ngIf="showModal"
    [recipe]="selectedRecipe"
    (closeModal)="closeModal()"
    (saveRecipe)="saveRecipe($event)"
  ></recipe-modal>
</div>
